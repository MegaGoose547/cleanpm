<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Add Project</h1>
  <form id="project-form">
    <input type="text" id="filename" placeholder="Image filename" required><br>
    <input type="url" id="url" placeholder="Project URL" required><br>
    <input type="text" id="text" placeholder="Display Text"><br>
    <button type="submit">Add Project</button>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const supabase = supabase.createClient(
        'https://ubrsdotiwcmiyznvzhcw.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVicnNkb3Rpd2NtaXl6bnZ6aGN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5ODEwMzksImV4cCI6MjA2OTU1NzAzOX0.n5p9dxhNv5u7GyvJ3e2xignsJDyOcBjsFWV6FCwxeVQ'
      );

      document.getElementById('project-form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const filename = document.getElementById('filename').value;
        const url = document.getElementById('url').value;
        const text = document.getElementById('text').value;

        const { error } = await supabase.from('projects').insert([
          { filename, url, text }
        ]);

        if (error) {
          alert('Error adding project: ' + error.message);
        } else {
          alert('Project added!');
          document.getElementById('project-form').reset();
        }
      });
    });
  </script>
</body>
</html>
